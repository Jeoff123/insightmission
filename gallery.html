<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery - Insight Mission</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="gallery.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <a href="index.html" class="logo">Insight Mission</a>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <a href="classes.html">Classes</a>
            <a href="gallery.html">Gallery</a>
            <a href="contact.html">Contact</a>
        </div>
        <div class="hamburger">
            <i class="fas fa-bars"></i>
        </div>
    </nav>

    <div class="main-content">
        <!-- Gallery Section -->
        <section class="gallery-section">
            <div class="section-title">
                <h2>Our Gallery</h2>
                <p>Explore our past events, workshops, and success stories</p>
            </div>
            <div class="gallery-container" id="gallery-container"></div>
        </section>
    </div>

    <!-- Lightbox -->
    <div class="lightbox" id="lightbox">
        <div class="lightbox-content">
            <div class="lightbox-navigation">
                <button class="prev-button" aria-label="Previous image">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <img src="" alt="Gallery Image" id="lightbox-image">
                <button class="next-button" aria-label="Next image">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
            <button class="close-lightbox" aria-label="Close lightbox">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <script>
        // Function to create a gallery item
        function createGalleryItem(imagePath) {
            const galleryItem = document.createElement('div');
            galleryItem.className = 'gallery-item';
            galleryItem.innerHTML = `
                <img src="Gallery/${imagePath}" alt="Gallery Image" class="gallery-image">
                <div class="gallery-overlay">
                    <i class="fas fa-expand"></i>
                </div>
            `;
            return galleryItem;
        }

        // Function to handle image loading
        function handleImageLoad(imageElement, galleryItem) {
            imageElement.onerror = function() {
                galleryItem.remove();
            };
        }

        // Function to initialize lightbox functionality
        function initializeLightbox() {
            const lightbox = document.getElementById('lightbox');
            const lightboxImage = document.getElementById('lightbox-image');
            const closeLightbox = document.querySelector('.close-lightbox');
            const prevButton = document.querySelector('.prev-button');
            const nextButton = document.querySelector('.next-button');
            
            // Get all gallery items and images
            const galleryItems = document.querySelectorAll('.gallery-item');
            const galleryImages = Array.from(galleryItems).map(item => item.querySelector('img'));
            
            // Add click event to each gallery item
            galleryItems.forEach((item, index) => {
                item.addEventListener('click', () => {
                    lightbox.classList.add('active');
                    lightboxImage.src = galleryImages[index].src;
                    currentImageIndex = index;
                });
            });

            // Close lightbox
            closeLightbox.addEventListener('click', () => {
                lightbox.classList.remove('active');
            });

            // Close lightbox when clicking outside
            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox) {
                    lightbox.classList.remove('active');
                }
            });

            // Navigation
            let currentImageIndex = 0;
            
            prevButton.addEventListener('click', () => {
                currentImageIndex = (currentImageIndex - 1 + galleryImages.length) % galleryImages.length;
                lightboxImage.src = galleryImages[currentImageIndex].src;
            });

            nextButton.addEventListener('click', () => {
                currentImageIndex = (currentImageIndex + 1) % galleryImages.length;
                lightboxImage.src = galleryImages[currentImageIndex].src;
            });

            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (lightbox.classList.contains('active')) {
                    switch(e.key) {
                        case 'Escape':
                            lightbox.classList.remove('active');
                            break;
                        case 'ArrowLeft':
                            prevButton.click();
                            break;
                        case 'ArrowRight':
                            nextButton.click();
                            break;
                    }
                }
            });
        }

        // Function to load images from the Gallery folder
        function loadGalleryImages() {
            const galleryContainer = document.getElementById('gallery-container');
            
            // Clear existing gallery items
            galleryContainer.innerHTML = '';

            // List of image files in the Gallery folder
            const imageFiles = [
                '1.jpeg',
                '2.jpeg',
                '3.jpeg',
                '4.jpeg',
                '5.jpeg',
                '6.jpeg',
                '7.jpeg',
                '8.jpeg',
                '9.jpeg',
                '10.jpeg',
                '11.jpeg',
                '12.jpeg',
                '13.jpeg',
                '14.jpeg',
                '15.jpeg',
                '16.jpeg',
                '17.jpeg',
                '18.jpeg',
                '19.jpeg',
                '20.jpeg',
                '21.jpeg',
                '22.jpeg',
                '23.jpeg',
                '24.jpeg',
                '25.jpeg',
                '26.jpeg',
                '27.jpeg',
                '28.jpeg',
                '29.jpeg',
                '30.jpeg',
                '31.jpeg',
                '32.jpeg',
                '33.jpeg',
                '34.jpeg',
                '35.jpeg',
                '36.jpeg',
                '37.jpeg',
                '38.jpeg',
                '39.jpeg',
                '40.jpeg',
                '41.jpeg',
                '42.jpeg',
                '43.jpeg',
                '44.jpeg',
                '45.jpeg',
                '46.jpeg',
                '47.jpeg',
                '48.jpeg',
                '49.jpeg',
                '50.jpeg',
                '51.jpeg',
                '52.jpeg',
                '53.jpeg',
                '54.jpeg',
                '55.jpeg',
                '56.jpeg',
                '57.jpeg',
                '58.jpeg',
                '59.jpeg',
                '60.jpeg',
                '61.jpeg',
                '62.jpeg',
                '63.jpeg',
                '64.jpeg',
                '65.jpeg',
                '66.jpeg',
                '67.jpeg',
                '68.jpeg',
                '69.jpeg',
                '70.jpeg',
                '71.jpeg',
                '72.jpeg',
                '73.jpeg',
                '74.jpeg',
                '75.jpeg',
                '76.jpeg',
                '77.jpeg',
                '78.jpeg'
            ];

            // Create gallery items for each image
            imageFiles.forEach(imageFile => {
                const galleryItem = createGalleryItem(imageFile);
                galleryContainer.appendChild(galleryItem);

                // Get the image element and set up error handling
                const imageElement = galleryItem.querySelector('img');
                handleImageLoad(imageElement, galleryItem);
            });

            // Initialize lightbox functionality
            initializeLightbox();
        }

        // Load gallery images when the page loads
        document.addEventListener('DOMContentLoaded', loadGalleryImages);
    </script>
</body>
</html>
